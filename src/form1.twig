{% extends "templates/partials/base.twig" %}

{% block main %}

    <div class="form-wizard" id="travel-form">
        <div class="container py-5">
            <h1>Travel Insurance</h1>
            {% include "templates/components/steppers.twig" %}
        </div>

        <div class="bg-p2d py-5 wizard-sections">
        
            <div class="wizard-section-1">
                <div class="container">
                    <div class="bg-w py-5 px-4">
                        <h2 class="p2">Get Started</h2>
                    
                        <div :class="{
                            'bt2': true,
                            'd-none': !showGetStartedConsent
                        }">
                            <p>
                                Please make sure you meet the following conditions.
                            </p>
                            <ol class="pl-3">
                                <li>The journey you intend to insure begins ans ends in Malaysia, except for Single Trip One-Way Cover.</li>
                                <li>You are between 18 and 70 years of age.</li>
                            </ol>
                            <p><strong>Note:</strong></p>
                            <p>Please contact _____ for your insurance application if:</p>
                            <ol class="roman pl-3">
                                <li>You are above 70 years of age; <strong>OR</strong></li>
                                <li>You are purchasing travel insurance only for your child (below 18 years of age)</li>
                            </ol>
                        </div>

                        <div :class="{
                            'bt2': true,
                            'd-none': showGetStartedConsent
                        }">
                            <p>Please enter the details of the insured person</p>
                            <div class="d-flex mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="id_type" value="NRIC" id="id_type1" v-model="formData.idType">
                                    <label class="form-check-label" for="id_type1">NRIC</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="id_type" value="Passport" id="id_type2" v-model="formData.idType">
                                    <label class="form-check-label" for="id_type2">Passport</label>
                                </div>
                            </div>

                            <div class="d-flex" v-if="formData.idType === 'NRIC'">
                                <div class="form-group">
                                    <input type="text" class="form-control" name="nric" placeholder="xxxxxx-xx-xxxx" v-model="formData.nric">
                                    <small class="error-message text-primary font-italic">* Complete the NRIC field.</small>
                                </div>
                            </div>

                            <div v-if="formData.idType === 'Passport'">
                                <div class="d-md-flex">
                                    <div class="form-group mr-md-3">
                                        {% verbatim %}
                                            <select class="form-control" id="country" name="country" v-model="formData.country">
                                                <option disabled hidden selected value="">Select country</option>
                                                <option>Malaysia</option>
                                            </select>
                                        {% endverbatim %}
                                    </div>
                                    <div class="form-group">
                                        <input type="text" class="form-control" name="passport" placeholder="Passport No." v-model="formData.passport">
                                        <small class="error-message text-primary font-italic">* Complete the Passport No field.</small>
                                    </div>
                                </div>
                                <p class="bt1 mb-2">Date of Birth:</p>
                                <div class="d-md-flex">
                                    <div class="form-group variant-date-picker">
                                        <datepicker class="form-control"
                                            placeholder="DD/MM/YYYY"
                                            :format="customDateFormatter"
                                            v-model="formData.dateOfBirth">
                                        </datepicker>
                                        {% include "templates/components/icon.twig" with { iconName: 'calendar' } %}
                                    </div>
                                </div>
                            </div>

                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="agreement" id="agreement" v-model="formData.pdpaAgreement">
                                <label class="form-check-label" for="agreement">
                                    I have read and understood MSIG's <a href="#">Privacy Notice</a> and agree to MSIG processing my personal data for the purposes and in the manners set out in the Privacy Notice.
                                </label>
                                <svg class="icon icon-m tick-mark">
                                    <use xlink:href="assets/icons/icons.svg#sprite-tick-mark" href="assets/icons/icons.svg#sprite-tick-mark"></use>
                                </svg>
                                <small class="error-message text-primary font-italic">* Oops, looks like you haven't ticked the box yet. Please do so to proceed</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container pt-4 wizard-navigation">
                    <a href="#" role="button" class="btn btn-default btn-outline-primary mb-3 mb-md-0" v-if="showGetStartedConsent">No</a>
                    <a href="#" role="button" class="btn btn-default btn-primary" @click.prevent="setShowGetStartedConsent(false)" v-if="showGetStartedConsent">Yes</a>
                    <a href="#" role="button" class="btn btn-default btn-outline-primary mb-3 mb-md-0" @click="setShowGetStartedConsent(true)" v-if="!showGetStartedConsent">Back</a>
                    <a href="#" role="button" class="btn btn-default btn-primary" @click="goToNextStep()" v-if="!showGetStartedConsent">Continue</a>
                </div>
            </div>
            
        </div>
    </div>

{% endblock %}